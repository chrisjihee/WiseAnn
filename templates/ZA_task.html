{% extends "index.html" %}

{% block script_header %}
    <script type="text/javascript">
        if (!getAuthCode())
            window.location = "/login/";
        $.ajax({
            url: "/ZA/",
            type: "get",
            async: true,
            beforeSend: function (req) {
                req.setRequestHeader("Authorization", authcode);
            }
        });

        $(function () {
            $("#username").text(username);
        });

        const goList = function () {
            window.location = "/ZA/";
        };
    </script>
{% endblock script_header %}

{% block body %}
    <div class="row" style="width:1040px; margin-left:auto; margin-right:auto; margin-bottom:30px">
        <div class="col-md-offset-7 col-md-1" style="padding-left:8px; padding-right:0">
            <button class="btn btn-block btn-warning" style="max-width:70px" onclick="goList()">
                <i class="glyphicon glyphicon-th-list"><span style="padding-left:3px; font-size:10.5pt">목록</span></i>
            </button>
        </div>
        <div class="col-md-3 well well-sm"
             style="text-align:center; font-size:9pt; height:35px; margin-bottom:0; max-width:240px">
            <i class="glyphicon glyphicon-user"> </i>
            <span id="username"></span>
        </div>
        <div class="col-md-1" style="padding-left:8px; padding-right:0">
            <button id="signout" class="btn btn-block btn-danger" style="max-width:70px" onclick="doLogout()">
                <i class="glyphicon glyphicon-off"> </i>
            </button>
        </div>
    </div>

    <div class="panel panel-info" style="width:980px; margin-left:auto; margin-right:auto; margin-bottom:20px">
        <div class="panel-heading" style="padding:10px; font-size:11pt">문서 제목</div>
        <div class="panel-body" style="font-size:10pt; padding-top:10px; padding-bottom:10px">{{ textname }}</div>
    </div>

    <div class="panel panel-info" style="width:980px; margin-left:auto; margin-right:auto; margin-bottom:20px">
        <div class="panel-heading" style="padding:10px; font-size:11pt">문서 내용</div>
        <div class="panel-body" style="font-size:10pt; padding-top:10px; padding-bottom:10px">
            <table class="table table-condensed table-striped list" style="margin-top:5px; margin-bottom:5px">
                <tr>
                    <th style="width:30px; text-align:center;">ID</th>
                    <th style="text-align:center;">문장</th>
                </tr>
                {% for sent in textcont.sents %}
                    <tr>
                        <th style="width:30px; text-align:right; line-height:200%; padding-top:20px;">{{ sent.id }}</th>
                        <td class="sent" id="sent{{ sent.id }}" style="line-height:200%; padding-top:20px;">
                            {% for word in sent.words %}
                                <div class="row" style="display:inline-block; padding:0; margin:0;">
                                    {% comment %}<div class="col-md-3 col-md-offset-3">.col-md-3 .col-md-offset-3</div>
                                    <div class="col-md-3 col-md-offset-3">.col-md-3 .col-md-offset-3</div>{% endcomment %}
                                    <div class="cate col-md-10 col-md-offset-3" style="border: 1px solid red; padding:0; margin:0;">NN
                                    </div>
                                    <span class="word col-md-10 col-md-offset-3"
                                          style="border: 1px solid blue; padding:0; margin:0;">
                                        {% for morp in word.morps %}
                                            <div class="morp" id="sent{{ sent.id }}-word{{ word.id }}-morp{{ morp.id }}"
                                                 style="display:inline-block">{{ morp.str }}</div>
                                        {% endfor %}
                                    </span>
                                    <span class="word col-xs-10" style="border: 1px solid blue; padding:0; margin:0;">
                                        {% for morp in word.morps %}
                                            <div class="morp" id="sent{{ sent.id }}-word{{ word.id }}-morp{{ morp.id }}"
                                                 style="display:inline-block">{{ morp.str }}</div>
                                        {% endfor %}
                                    </span>
                                </div>

                                {% comment %}<div class="word" id="sent{{ sent.id }}-word{{ word.id }}"
                                     style="display:inline-block; padding-right:10px">
                                    {% for morp in word.morps %}
                                        <div class="morp" id="sent{{ sent.id }}-word{{ word.id }}-morp{{ morp.id }}"
                                             style="display:inline-block">{{ morp.str }}</div>
                                    {% endfor %}
                                </div>{% endcomment %}
                            {% endfor %}
                        </td>
                    </tr>
                {% endfor %}
            </table>
            <script>
                $(".morp").mousedown(function () {
                    $(this).prepend("{")
                })
                $(".morp").mouseup(function () {
                    $(this).append("}");
                })
            </script>
        </div>
    </div>

    <table>
        <tr>
            <td align="center" style="border: none; padding: 0px; padding-top: 17px; padding-right: 10px;">
                <div class="panel panel-default" style="width: 180px;">
                    <div class="panel-body btn-group"
                         style="padding-top:12px; padding-left: 0px; padding-right: 0px; height: 54px;">
                        <button class="btn btn-default btn-sm" id="append"><i class="glyphicon glyphicon-plus"> </i>
                            Append
                        </button>
                        <button class="btn btn-default btn-sm" id="delete"><i class="glyphicon glyphicon-minus"> </i>
                            Delete
                        </button>
                    </div>
                    <div class="panel-footer" style="padding: 3px; font-size: 10pt; font-family: 'Calibri';">Context
                        Mode
                    </div>
                </div>
            </td>
            <td align="center" style="border: none; padding: 0px; padding-top: 17px;">
                <div class="panel panel-default" style="width:160px;">
                    <div class="panel-body"
                         style="padding-top:7px; padding-left: 0px; padding-right: 0px; height: 54px;">
                        <button class="btn btn-default btn-sm" id="save"><i class="glyphicon glyphicon-saved"> </i> Save
                        </button>
                        <button class="btn btn-danger  btn-sm" id="home"><i class="glyphicon glyphicon-home"> </i> Home
                        </button>
                    </div>
                    <div class="panel-footer" style="padding: 3px; font-size: 10pt; font-family: 'Calibri';">Command
                    </div>
                </div>
            </td>
        </tr>
    </table>



{% endblock body %}
